{% comment %} Handle both string and object formats {% endcomment %}
{% if include.repository.name %}
  {% assign repo_name = include.repository.name %}
  {% assign repo_description = include.repository.description %}
{% else %}
  {% assign repo_name = include.repository %}
  {% assign repo_description = "" %}
{% endif %}

{% assign repo_url = repo_name | split: '/' %}
{% if site.data.repositories.github_users contains repo_url.first %}
  {% assign show_owner = false %}
{% else %}
  {% assign show_owner = true %}
{% endif %}

<div class="repo p-2">
  <a href="https://github.com/{{ repo_name }}" class="repo-card-link" style="text-decoration: none; display: block;">
    <div class="repo-card" style="padding: 1.5rem; background: var(--global-card-bg-color); border-radius: 8px; border: 1px solid var(--global-divider-color); transition: transform 0.2s, box-shadow 0.2s; height: 100%;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 8px rgba(0,0,0,0.1)';" onmouseout="this.style.transform=''; this.style.boxShadow='';">
      <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem;">
        <i class="fab fa-github" style="font-size: 1.75rem; color: var(--global-theme-color);"></i>
        <div style="flex: 1;">
          <strong style="color: var(--global-text-color); font-size: 1.1rem; display: block;">{{ repo_url[1] }}</strong>
          <span style="color: var(--global-text-color-light); font-size: 0.9rem;">{{ repo_url[0] }}</span>
        </div>
      </div>
      {% if repo_description %}
      <p style="color: var(--global-text-color-light); font-size: 0.9rem; margin: 0 0 1rem 0; line-height: 1.4;">{{ repo_description }}</p>
      {% endif %}
      <div style="display: flex; align-items: center; gap: 0.5rem; color: var(--global-theme-color); font-size: 0.9rem;">
        <span>View on GitHub</span>
        <i class="fas fa-external-link-alt" style="font-size: 0.8rem;"></i>
      </div>
    </div>
  </a>
</div>
